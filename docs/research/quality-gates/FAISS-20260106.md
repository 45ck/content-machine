# FAISS (Vector Search) for Retrieval and Quality Gates

**Date:** 2026-01-06  
**Status:** Research notes (proposed)

---

## What FAISS Is

FAISS is a vector similarity search library commonly used to build approximate nearest neighbor indexes over embeddings.

For content-machine, FAISS is not “a virality model”; it’s a plumbing primitive that enables retrieval-based workflows.

---

## Why It Matters for content-machine

Two high-value uses:

1. Exemplar retrieval for generation (“show me hooks similar to this topic/archetype”).
2. Similarity/diversity gates for evaluation (“did we accidentally generate near-duplicates?”).

Both map cleanly to a CLI-first, artifact-based design.

---

## Proposed Integrations

### 1) `cm script` retrieval memory (future)

Build an index over:

- hook lines
- packaging variants (titles/thumbnail text)
- beat plans (serialized)

Retrieve top-k exemplars and feed into structured prompting. This mirrors SKAPP/RAGTrans themes without importing their training stacks.

### 2) `cm visuals` asset retrieval (future)

Use embeddings to:

- match scenes to stock footage candidates (beyond keyword matching),
- detect repeated visuals across scenes or across variants.

### 3) `cm score` diversity gate (near-term)

Flag:

- “too similar to last N outputs” (template fatigue),
- “too similar within the same video” (low variety).

---

## Practical Constraints

- FAISS is a native dependency; packaging for Windows/macOS needs careful handling.
- A lightweight alternative is to start with a small pure-JS index and upgrade later.

---

## Suggested Next Step

Prototype the schema + interfaces first:

- define a retrieval abstraction (future),
- store embeddings + metadata in a simple file format,
- postpone FAISS adoption until the UX is proven.
